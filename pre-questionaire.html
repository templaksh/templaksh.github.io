<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Pre-questionaire and Instructions</title>
</head>

<body>

    <script src="./js/external/jquery-3.3.1.min.js"></script>
    <h2>Instructions</h2>
    <h3>Goal:</h3>
    <p>The goal of this experiment is to compare the performance between marking menu and radial menu. During the experiment,
        you will see your progress at the top of the screen. There are 18 conditions and you have 3 trials in each condition.
        Once you have attempted 3 times for a condition, the next button will be enabled so that you may move on to the next
        condition. Each condition will indicate an objective under the “Please Select” column. You will need to select the
        option accordingly. Menu type indicates the type of menu – Radial or Marking. “Menu Breadth” indicates the number
        of options in each level. “Menu depth” indicates the number of sub-options that you will need to traverse to find
        the objective. Your selection can be viewed under the “Item Selected” column.
    </p>
    How to use the menus:
    <br>

    <p>
        Radial Menu:
        <br> Click in the centre of yellow box and the menu will appear.
    </p>
    <p>
        Marking Menu:
        <br> Click in the centre of yellow box and the menu will appear.
        <br> Additional: If you are familiar with where the option will be, you do not need to wait for the option to appear.
        You can simply click and drag in that direction (this is be shown as a black line in the UI).
    </p>
    <p>
        You can verify your selection under the “Item Selected” column. Upon completion, you will download a “experiment.csv” file
        that will contain the data on your experiment. The recording of data only occurs once you click in the yellow box
        till you make the selection for that trial so you may feel free to take breaks in between the whole process.
    </p>

    <h2>Pre-questionaire</h2>
    <form id="qn" action="experiment.html" method="GET">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="name" name="name" id="userName" class="form-control">
        </div>
        <div class="form-group">
            <label for="pId">Participant ID</label>
            <input type="text" name="participantID" class="form-control" id="participantID">
        </div>
        <h3>How frequently do you need to use menus? </h3>
        <label class="radio-inline">
            <input type="radio" name="optradio" checked value="None">None</label>
        <label class="radio-inline">
            <input type="radio" name="optradio" value="Regular">Regular</label>

        <label class="radio-inline">
            <input type="radio" name="optradio" value="Frequent">Frequent</label>

        <h3>How frequently do use context menu/pop-up menu? </h3>
        <label class="radio-inline">
            <input type="radio" name="optradio2" checked value="None">None</label>
        <label class="radio-inline">
            <input type="radio" name="optradio2" value="Regular">Regular</label>
        <label class="radio-inline">
            <input type="radio" name="optradio2" value="Frequent">Frequent</label>

        <h3>Please check if you are familiar with the menus below </h3>
        <label class="checkbox-inline">
            <input class="messageCheckbox" type="checkbox" name="MarkingMenu" value="Marking Menu">Marking Menu</label>
        <label class="checkbox-inline">
            <input class="messageCheckbox" type="checkbox" name="RadialMenu" value="Radial Menu">Radial Menu</label>
        <script>
            var userName = ""
            var optradio = ""
            var optradio2 = ""
            var participantID = ""
            $(document).ready(function () {
                $('input[name=optradio]').on('change', function () {
                    optradio = $(this).val()
                    console.log('optradio: ', optradio);
                })
                $('input[name=optradio2]').on('change', function () {
                    optradio2 = $(this).val()
                    console.log('optradio2: ', optradio2);
                })
            })
            function store() {
                var preQ = {
                    userName: $("#userName").val(),
                    participantID: $("#participantID").val(),
                    optradio: optradio,
                    optradio2: optradio2,
                    // checkbox:var checkedValue = $('.messageCheckbox:checked').val();
                    checkbox: $('.messageCheckbox:checked').val(),
                }
                console.log('preQ: ',preQ);
                window.localStorage.setItem("preQ", JSON.stringify(preQ));
                // userName = $("#userName").value
                // participantID = $("#participantID").value

            }
            // function dlForm() {
            //     jsonObj = FormDataToJSON(document.getElementById("qn"))
            //     var hiddenLink = document.createElement('a');
            //     hiddenLink.href = 'data:text/csv;charset=utf-8,' + JSON.stringify(jsonObj);
            //     // hiddenLink.href = 'data:text/csv;charset=utf-8,' + encodeURI(jsonObj);
            //     hiddenLink.target = '_blank';
            //     hiddenLink.download = 'qn.json';
            //     document.body.appendChild(hiddenLink);
            //     hiddenLink.click();
            // }
            // function FormDataToJSON(FormElement) {
            //     var formData = new FormData(FormElement);
            //     var ConvertedJSON = {};
            //     for (const [key, value] of formData.entries()) {
            //         ConvertedJSON[key] = value;
            //     }

            //     return ConvertedJSON
            // }
        </script>
        <div class="row">
            <button onclick="store()" class="btn btn-default">Save Pre-questionaire</button>
        </div>
    </form>
    <!-- <form action="experiment.html" method="GET">

        <button type="submit">Proceed to experiment</button>
    </form> -->
</body>

</html>