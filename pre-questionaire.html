<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Pre-questionaire and Instructions</title>
</head>

<body>

    <script src="./js/external/jquery-3.3.1.min.js"></script>
    <h2>Pre-questionaire</h2>
    <form id="qn" action="instruction.html" method="GET">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="name" name="name" id="userName" class="form-control">
        </div>
        <div class="form-group">
            <label for="pId">Participant ID</label>
            <input type="text" name="participantID" class="form-control" id="participantID">
        </div>
        <h3>How frequently do you need to use menus? </h3>
        <label class="radio-inline">
            <input type="radio" name="optradio" checked value="Sometimes">Sometimes</label>
        <label class="radio-inline">
            <input type="radio" name="optradio" value="Regular">Regular</label>

        <label class="radio-inline">
            <input type="radio" name="optradio" value="Frequent">Frequent</label>

        <h3>How frequently do use context menu/pop-up menu? </h3>
        <label class="radio-inline">
            <input type="radio" name="optradio2" checked value="Sometimes">Sometimes</label>
        <label class="radio-inline">
            <input type="radio" name="optradio2" value="Regular">Regular</label>
        <label class="radio-inline">
            <input type="radio" name="optradio2" value="Frequent">Frequent</label>

        <h3>Please check if you are familiar with the menus below </h3>
        <label class="checkbox-inline">
            <input class="markingCheckbox" type="checkbox" name="MarkingMenu" value="Marking Menu">Marking Menu</label>
        <label class="checkbox-inline">
            <input class="radialCheckbox" type="checkbox" name="RadialMenu" value="Radial Menu">Radial Menu</label>
        <script>
            var userName = ""
            var optradio = ""
            var optradio2 = ""
            var participantID = ""
            $(document).ready(function () {
                $('input[name=optradio]').on('change', function () {
                    optradio = $(this).val()
                    console.log('optradio: ', optradio);
                })
                $('input[name=optradio2]').on('change', function () {
                    optradio2 = $(this).val()
                    console.log('optradio2: ', optradio2);
                })
            })
            function store() {
                var preQ = {
                    userName: $("#userName").val(),
                    participantID: $("#participantID").val(),
                    optradio: optradio,
                    optradio2: optradio2,
                    // checkbox:var checkedValue = $('.messageCheckbox:checked').val();
                    markingCheckbox: $('.markingCheckbox:checked').val(),
                    radialCheckbox: $('.radialCheckbox:checked').val(),
                }
                console.log('preQ: ',preQ);
                window.localStorage.setItem("preQ", JSON.stringify(preQ));
                // userName = $("#userName").value
                // participantID = $("#participantID").value

            }
            // function dlForm() {
            //     jsonObj = FormDataToJSON(document.getElementById("qn"))
            //     var hiddenLink = document.createElement('a');
            //     hiddenLink.href = 'data:text/csv;charset=utf-8,' + JSON.stringify(jsonObj);
            //     // hiddenLink.href = 'data:text/csv;charset=utf-8,' + encodeURI(jsonObj);
            //     hiddenLink.target = '_blank';
            //     hiddenLink.download = 'qn.json';
            //     document.body.appendChild(hiddenLink);
            //     hiddenLink.click();
            // }
            // function FormDataToJSON(FormElement) {
            //     var formData = new FormData(FormElement);
            //     var ConvertedJSON = {};
            //     for (const [key, value] of formData.entries()) {
            //         ConvertedJSON[key] = value;
            //     }

            //     return ConvertedJSON
            // }
        </script>
        <div class="row">
            <button onclick="store()" type="submit" class="btn btn-default">Next</button>
        </div>
    </form>
    <!-- <form action="experiment.html" method="GET">

        <button type="submit">Proceed to experiment</button>
    </form> -->
</body>

</html>